# 位图

## 1.什么是位图

位图可以理解为一种省空间的哈希表，其核心思想是在一段连续的数字中利用一个比特位来判断这个数的有无

省空间:只用一个比特位来判断一个整数

限制:必须是一段连续的空间

## 2.向上取整知识点

如果想得到a/b向上取整的结果，可写为

```java
int ans=(a+b-1)/b;
```

只要a%b!=0,后面的(b-1)就会因此+1

## 3.位图的实现

```java
public class BitSet {
	//底层用整形数组来存储,比特位0表示没有,1表示该数存在
	private int[] arr=null;
	private int len=0;
	
	//构造函数,构建一个可以容纳[0,n-1]的大小
	public BitSet(int n) {
		int length=(n+31)/32;//向上取整
		arr=new int[length];
		len=n;
	}
	//将num加入到位图中
	public void add(int num) {
		if(num<len) {
			int index=num/32;
			int bit=num%32;
			arr[index] |= (1<<bit); 
		}
		
	}
	//将num从位图中删除
	public void remove(int num) {
		if(num<len) {
			int index=num/32;
			int bit=num%32;
			arr[index] &= (~(1<<bit));
		}
		
	}
	//如果位图里面没有num就加入,否则就删除
	public void reverse(int num) {
		if(num<len) {
			int index=num/32;
			int bit=num%32;
			arr[index] ^= (1<<bit);
		}
	}
	//判断num是否在位图中
	public boolean contains(int num) {
		if(num<len) {
			int index=num/32;
			int bit=num%32;
			if((arr[index]&(1<<bit))==0)return false;
			else return true;
		}
		return false;
	}

}

```

