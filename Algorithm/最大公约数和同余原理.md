# 最大公约数和同余原理

## 1.最大公约数

最大公约数其实就只有一行代码:

```java
public int gcd(int m,int n){return n==0 ? m:gcd(n,m%n);}
```

leetcode878,第N个神奇的数字

一个正整数如果能被a或b整除，那么它是神奇的。

给定三个整数a,b,c,返回第n个神奇的数字，答案对1e9+7取模

这道题左神讲解用的二分答案

```java
    public int nthMagicalNumber(int n, int a, int b) {
        long lcm = lcm(a,b);
        long ans=0;
        for(long l=2,r=(long)n*Math.min(a,b);l<=r;){
            long m = l +(r-l)/2;
            if(m/a+m/b-m/lcm>=n){
                ans = m;
                r=m-1;
            }else{
                l=m+1;
            }
        }
        return (int)(ans%1000000007);
    }
    public long gcd(long m,long n){return n==0 ? m:gcd(n,m%n);}
    public long lcm(long m,long n){return m/gcd(m,n)*n;}
```

## 2.同余原理

加法同余: `(a+b)% m == (a%m + b%m)%m`

减法同余:`(a-b)% m == (a%m - b%m +m)%m`

乘法同余:`(a*b)%m == ((a%m)*(b%m))%m `

必备技巧:确保在过程中不溢出，所以往往乘法运算的用long类型做中间变量

**同余必要性:** 1.如果不同余32位->64位->128位,出现一种越算越慢的现象

                     2.很多题目都要求对某个数取余之后返回


